var IS_NARRATE=+"";var UPLOAD_DIR="/userFiles/uploads";var WP_MIN_WIDTH=+"100";var WP_MIN_HEIGHT=+"50";var WP_MAX_WIDTH=+"1920";var WP_MAX_HEIGHT=+"6000";var AD_TIMER=+"5";var ACCOUNT_LABEL=$.parseJSON("{\"0\":\"Free\",\"99\":\"PRO Trial\",\"98\":\"PRO Trial Expired\",\"1\":\"Plus\",\"2\":\"Teacher\",\"9\":\"Pro\",\"10\":\"Pro Extra\",\"6\":\"Pro\",\"3\":\"Pro\",\"7\":\"Starter\",\"8\":\"Business\",\"108\":\"Business Subaccount\",\"4\":\"Premium Wix\",\"5\":\"Student\",\"17\":\"Starter Monthly\",\"11\":\"Plus Monthly\",\"13\":\"Pro Monthly\",\"16\":\"Pro Monthly\",\"19\":\"Pro Monthly\",\"20\":\"Pro Extra Monthly\",\"18\":\"Business Monthly\",\"118\":\"Business Subaccount Monthly\",\"30\":\"Starter\",\"31\":\"Professional\",\"41\":\"Professional Monthly\",\"1031\":\"Lifetime LoudDoc Professional Account\",\"38\":\"Business\",\"48\":\"Business Monthly\",\"1038\":\"Lifetime LoudDoc Business Account\",\"138\":\"Business Subaccount\",\"148\":\"Business Subaccount Monthly\",\"1138\":\"Lifetime LoudDoc Business Subaccount\"}");var ACCOUNT_FREE_NARRATE="30";var ACCOUNT_WIX="4";var ACCOUNT_BASIC="7";var ACCOUNT_BASIC_MONTHLY="17";var validateEmail=/^([A-Za-z0-9.!#$%&'*+\-\/=?^_`{|}~])+@([A-Za-z0-9_\-.])+\.([A-Za-z]{2,4})$/;var FB_APP_ID="341981852533773";var GOOGLE_CLIENT_ID="406592889490-kri5qlf12pe2kredbuc777j5j47gg31g.apps.googleusercontent.com";var GOOGLE_API_KEY="AIzaSyBc99OvjGPg5L5LoAUm7Yq4JBRDIJWBIXU";var ANIMATION_WALL_OFFSET=5;var ANIMATION_WALL_ENHANCED_OFFSET=25;var CHROME_STATE_CSS_CLASS_PREFIX="state-chrome-";var CHROME_OFF_STATE_CSS_CLASS_SUFFIX="-off";var BOOKLET_SHADOW_CSS_CLASS="border_none_shadow";var LAZYLOAD_PAGE_THRESHOLD=+"5";var BOOKLET_MARGIN_TOP_BOTTOM=+"5";var LANG_WA_SUBSCRIBED='Thanks. You are subscribed to notifications.';var ACCEPT_COOKIES_COOKIE_KEY="cookies_accepted";var PF5_PREFIX="pf5_";var KEYCODES={BACKSPACE:8,ENTER:13,ESC:27,ARROW_LEFT:37,ARROW_UP:38,ARROW_RIGHT:39,ARROW_DOWN:40,DELETE:46,CTRL_C:67,CTRL_V:86,CTRL_X:88,CTRL_Y:89,CTRL_Z:90};var LOADING_SELECTOR="#loadingImg";function HideDIV(d,callback){var selector=typeof d==="string"?"#"+d:typeof d==="object"?d:".popupOpen, .modal";$(selector).each(function(){$(this).rdpCloseModal(callback)});if(typeof leftNavDeslect==="function"){leftNavDeslect()}}function DisplayDIV(d,noHide,no_history,closed,force,callback,closeCallback){if(typeof d==="object"){d=d.attr("id")}if(!d){return}if(typeof gaTrackEvent==="function"){gaTrackEvent("popup","open",d)}if(!noHide){$(".popupOpen,.animating").each(function(){$(this).rdpCloseModal()})}if(force||$("#"+d).length===0){loadPopup(d,force,callback).done(function(){displayDivInternals(d,closeCallback)})}else{displayDivInternals(d,closeCallback,noHide)}}function displayDivInternals(d,closeCallback,noHide){var $popup=$("#"+d);if(!$popup.hasClass("no-dropdown-init")){materializeDropdownInit()}if($popup.hasClass("modal")){var $modalsToClose=!noHide?$(".modal:not(.noclose)").not($popup):null;$(".lean-overlay").remove();$popup.addClass("modal");var modalOptions={dismissible:!$popup.hasClass("modal-no-dismiss"),opacity:$popup.data("modal-opacity"),inDuration:0,outDuration:0};if($popup.hasClass("modal-vertical-align")){modalOptions.endingTop="50%";modalOptions.ready=function(modal){setTimeout(function(){var endingTop="calc(50% - "+Math.floor($("#"+d).height()/2)+"px)";if(DEV)console.log("endingTop: ",endingTop);$(modal).css("top",endingTop)},250)}}modalOptions.complete=typeof closeCallback==="function"?function(){closeCallback.call($popup.get())}:null;$popup.rdpOpenModal(modalOptions);$("body").css("overflow-y","auto");$popup.find("ul.tabs").tabs();if($popup.hasClass("modal-no-overlay")){$(".modal-overlay").hide()}if($modalsToClose&&$modalsToClose.length){$modalsToClose.rdpCloseModal()}}}function displayPopupRefresh(popupId,paramsObject,callback,closeCallback){var force=paramsObject?paramsObject:true;$(popupId).rdpCloseModal();DisplayDIV(popupId,false,false,false,force,callback,closeCallback)}function displayBusinessUpgrade(){displayPopupRefresh("upgrade",{"no-pro":1})}function loadPopup(id,serverParams,callback,parentDiv,post){if(typeof parentDiv==="undefined"||!parentDiv){parentDiv=$("body")}type=post?"POST":"GET";var workpad_id=typeof W!=="undefined"?W["id"]:null;var gallery_id=$("body").data("gallery_id")?$("body").data("gallery_id"):null;var page=typeof $global!=="undefined"?$global.currentPage:null;var workpad_entry_id=$(".resultDiv.clicked").length===1?$(".resultDiv.clicked").data("id"):null;var data={id:id,workpad_id:workpad_id,page:page,workpad_entry_id:workpad_entry_id,gallery_id:gallery_id,_cbt:Date.now()};if(typeof serverParams==="object"){for(var i in serverParams){data[i]=serverParams[i]}}data["ios"]=IOS?1:"";requestKey=id;return $.ajax({url:"/popups.php",type:type,data:data,error:function(response){displayMessage(response.responseText)},success:function(data){$("#"+id).remove();parentDiv.append($(data));if(typeof $.fn.tooltip==="function"){$(".tooltipped").tooltip()}if(typeof setAccountFeatures==="function"){setAccountFeatures()}if(typeof componentHandler==="object"){componentHandler.upgradeDom()}var $popup=$("#"+id);if(!MOBILE&&typeof $popup.draggable!=="undefined"){$("#"+id+":not(.nodrag)").draggable({cancel:".dd-options, input, textarea, select, .popup_buttons, .tab, .metrobartools"})}if(typeof callback==="function"){callback(id,data)}var onloadCallback=$popup.data("onload-callback");var onloadCallbackFn=onloadCallback&&window[onloadCallback]?window[onloadCallback]:null;if(typeof onloadCallbackFn==="function"){onloadCallbackFn(id)}}})}function isNumber(n){return!isNaN(parseFloat(n))&&isFinite(n)}function parseQueryString(name,hashOnly){var url=hashOnly?window.location.hash:window.location.href;url=url.replace(/%23/,"#");url=url.replace(/(#.*)%3d/,"$1=");name=name.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var regexS="[\\?&\\#\\!]"+name+"=([^&#]*)";var regex=new RegExp(regexS);var results=regex.exec(url);if(results===null)return"";else return results[1]}function ajaxError(XMLHttpRequest){hideLoading();if(typeof XMLHttpRequest==="undefined"){displayMessage("Sorry, something went wrong")}else if(XMLHttpRequest.responseText){var json=JSON.parse(XMLHttpRequest.responseText);if(json&&json.message){displayMessage(json.message)}else{displayMessage(XMLHttpRequest.responseText)}}}function ajaxBefore(hideLoading){if(typeof hideLoading!=="boolean"||!hideLoading){showLoading("working on it...")}}function ajaxComplete(){hideLoading()}function showLoading(message,matchId,progress,logoUrl){if(typeof $global!=="undefined"&&typeof $global.imageMode!=="undefined"&&$global.imageMode){return}var $loading=$(LOADING_SELECTOR);if($loading.length===0){$loading=$("<div id='loadingImg'>"+"<div>"+(logoUrl?"<div class='logo'><img src='"+logoUrl+"' /></div>":"")+"<div class='message'></div>"+"<div class='indicator'></div>"+"</div>"+"</div>");$(document.body).append($loading)}if(progress!==undefined){var $determinate=$loading.find(".determinate");if($determinate.length){$determinate.width(progress+"%")}else{$indicator=$("<div class='progress'>"+"<div class='determinate' style='width: "+progress+"%'></div>"+"</div>");$loading.find(".indicator").html($indicator)}}else{$indicator=$("<div class='spinner'>"+"<i class='fa fa-circle-notch fa-spin orange-text fa-6x'></i>"+"</div>");$loading.find(".indicator").html($indicator)}$message=$("<span class='lato'>We're Updating Your Site</span>");$loading.find(".message").html($message);if(message){$loading.find("span").html(message)}if(typeof $global!=="undefined"&&!$global.embed){$loading.height($(window).height())}if(matchId){$loading.data("match_id",matchId)}$loading.addClass("show")}function isLoading(){return $(LOADING_SELECTOR).is(":visible")}function hideLoading(matchId){var $loading=$(LOADING_SELECTOR);if(!$loading.data("match_id")||$loading.data("match_id")===matchId){$loading.removeClass("show").data("match_id","").find("span").html("working on it...")}}function isUpgraded(accountType){if(typeof $global!=="undefined"){if(typeof $global.login!=="undefined"){if(typeof accountType!=="undefined"){if(+$global.login.accountType===+accountType){return true}}else if(+$global.login.accountType>0&&+$global.login.accountType!==+ACCOUNT_FREE_NARRATE){return true}}}if(typeof W!=="undefined"){if(typeof W["plus"]!=="undefined"){if(typeof accountType!=="undefined"){return+W["plus"]===+accountType}else if(+W["plus"]>0){return true}}}return false}function isBasic(){var plus=+$global.login.accountType;return plus===+ACCOUNT_BASIC||plus===+ACCOUNT_BASIC_MONTHLY}function isWix(){return+$global.login.accountType===+ACCOUNT_WIX}function isTopTier(){return isUpgraded()&&!isBasic()&&!isWix()}function isBossTier(){var plus=+W["plus"];return plus===8||plus===18||plus===108||plus===118||plus===38||plus===48||plus===138||plus===148||plus===1038||plus===1138}(function($){$.fn.visible=function(){this.css("visibility","visible");return this}})(jQuery);(function($){$.fn.hidden=function(){this.css("visibility","hidden");return this}})(jQuery);(function($){$.fn.left=function(val){if(val===undefined){return parseInt(this.css("left"))}else{this.css("left",val+"px");return this}}})(jQuery);(function($){$.fn.top=function(val){if(val===undefined){return parseInt(this.css("top"))}else{this.css("top",val+"px");return this}}})(jQuery);(function($){$.fn.xy=function(){return{x:this.left(),y:this.top()}}})(jQuery);(function($){$.fn.rdpOpenModal=function(options){this.modal(options).modal("open");$(this).find("> div").hide().fadeIn()}})(jQuery);var fadeDirection=0;(function($){$.fn.rdpCloseModal=function(callback){var $popup=this;if($popup.hasClass("popup-persist")){return}if($popup.hasClass("modal")){$popup.removeClass("popupOpen closing").modal().modal("close")}else{$popup.removeClass("popupOpen").fadeOut()}if(typeof callback==="function"){callback($popup)}}})(jQuery);(function($){$.fn.toggleFullscreen=function(fallbackFunction,callbackFunction){var element=this.get(0);var isFullscreen=false;var fullscreenPromise=null;if(!document.fullscreenElement&&!document.mozFullScreenElement&&!document.webkitFullscreenElement&&!document.msFullscreenElement){isFullscreen=true;if(element.requestFullscreen){fullscreenPromise=element.requestFullscreen()}else if(element.msRequestFullscreen){fullscreenPromise=element.msRequestFullscreen()}else if(element.mozRequestFullScreen){fullscreenPromise=element.mozRequestFullScreen()}else if(element.webkitRequestFullscreen){fullscreenPromise=element.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}else{isFullscreen=false;if(typeof fallbackFunction==="function"){fallbackFunction()}}}else{if(document.exitFullscreen){fullscreenPromise=document.exitFullscreen()}else if(document.cancelFullScreen){fullscreenPromise=document.cancelFullScreen()}else if(document.msExitFullscreen){fullscreenPromise=document.msExitFullscreen()}else if(document.mozCancelFullScreen){fullscreenPromise=document.mozCancelFullScreen()}else if(document.webkitExitFullscreen){fullscreenPromise=document.webkitExitFullscreen()}else if(document.webkitCancelFullScreen){fullscreenPromise=document.webkitCancelFullScreen()}}Promise.resolve(fullscreenPromise).then(function(){if(typeof callbackFunction==="function"){callbackFunction(isFullscreen)}}).catch(function(){if(typeof callbackFunction==="function"){fallbackFunction()}});return this}})(jQuery);$.fn.serializeObject=function(){var o={};var a=this.serializeArray();$.each(a,function(){if(o[this.name]!==undefined){if(!o[this.name].push){o[this.name]=[o[this.name]]}o[this.name].push(this.value||"")}else{o[this.name]=this.value||""}});return o};$.fn.removeClasses=function(pattern){$(this).removeClass(function(index,className){var regex=typeof pattern==="object"?pattern:new RegExp("(^|\\s)"+pattern+"\\S+","g");return(className.match(regex)||[]).join(" ")});return this};function displayMessage(message,closeCallback){displayPopupRefresh("messagePopup",null,function(){$("#messagePopupContent").html(message)},closeCallback)}function displayConfirm(message,okFunction,noHide){var popupId="messageConfirm";loadPopup(popupId).done(function(){$("#messageConfirmContent").html(message);$("#"+popupId).find(".action-button-ok").click(function(){if(typeof okFunction==="function")okFunction();if(typeof noHide==="undefined"||!noHide){HideDIV()}});DisplayDIV(popupId,noHide)})}function isEven(n){return n%2===0}function isOdd(n){return Math.abs(n%2)===1}function isSafari(){ua=navigator.userAgent.toLowerCase();return ua.indexOf("safari")>=0&&ua.indexOf("chrome")<0}function isFirefox(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}$(document).ready(function(){materializeDropdownInit()});$(function(){$(document).on("click",".copy-element-text",function(){var $el=$($(this).data("copy-element"));var text=$el.first().text()||$el.first().val();$("body").append("<textarea id='copy-element-textarea' style='position: absolute; top: -9999px; left:-9999px'>"+text+"</textarea>");var $textarea=$("#copy-element-textarea");$textarea[0].select();document.execCommand("copy");$textarea.remove();$(this).text("COPIED")});$(document).on("click",".ga_track",function(){var $this=$(this);gaTrackEvent($this.data("ga-category"),$this.data("ga-action")||"click",$this.data("ga-label")||"");if(typeof _paq!=="undefined"){_paq.push(["trackEvent",$this.data("ga-category"),$this.data("ga-action")||"click",$this.data("ga-label")])}})});function gaTrackEvent(category,action,label){if(typeof ga==="function"&&typeof ga.getAll==="function"){var trackerName=ga.getAll()[0].get("name");ga(trackerName+".send","event",category,action,label)}}function setBusinessCardDownloadButton(){clearBusinessCardDownloadButton();var $vcfDownloadButton=$(".action-vcf-text");var text=$vcfDownloadButton.data("vcf-text");if(typeof text==="undefined"||text.length<=0){$vcfDownloadButton.fadeOut();return false}var data=new Blob([text],{type:"text/vcf"});var url=window.URL.createObjectURL(data);$vcfDownloadButton.attr("href",url).fadeIn()}function clearBusinessCardDownloadButton(){window.URL.revokeObjectURL($(".action-vcf-text").attr("href"))}var imagesLoaded=[];function imgLoaded(idCount){imagesLoaded["_"+idCount]=1;var loadedCount=Object.keys(imagesLoaded).length;var percent=imagesToLoad?Math.ceil(100*(loadedCount/imagesToLoad)):0;if(typeof hideImgLoaded==="undefined"||hideImgLoaded||designMode()||editMode()){return}if(typeof loaderInterval!=="undefined"&&loaderInterval){clearInterval(loaderInterval)}if(imagesToLoad>0&&percent<100){showLoading(bookletLoadingMessage,null,parseInt(percent*(1-loaderProgress/100)+loaderProgress),loaderIcon)}else{imgLoadedComplete()}}function imgLoadedComplete(){if(typeof loaderInterval!=="undefined"&&loaderInterval){clearInterval(loaderInterval)}$(".determinate",LOADING_SELECTOR).off("transitionend").on("transitionend",function(){hideLoading();if(hasAnimate()){animateWorkpadEntries($global.currentPage,"open")}});if(typeof bookletLoadingMessage!=="undefined"&&hideImgLoaded===false){hideImgLoaded=true;showLoading(bookletLoadingMessage,null,100,loaderIcon)}}function materializeDropdownInit(){if(typeof $(document).material_select==="function"){$("select").material_select()}}function inIframe(){try{return window.self!==window.top}catch(e){return true}}function isZoom(){return window.innerWidth?document.body.clientWidth/window.innerWidth>1:false}function jsLoad(jsSrc,undefinedTest,loadedCallbackFunction){if(undefinedTest==="undefined"){var script=document.createElement("script");script.src=jsSrc;script.onload=loadedCallbackFunction;document.head.appendChild(script)}else{if(typeof loadedCallbackFunction==="function"){loadedCallbackFunction.call()}}}function isModalOpen(){return $(".modal:visible").length>0}